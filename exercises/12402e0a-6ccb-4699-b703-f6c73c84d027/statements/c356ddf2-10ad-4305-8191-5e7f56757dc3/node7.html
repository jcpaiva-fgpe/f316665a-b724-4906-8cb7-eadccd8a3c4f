<h1><font color=blue> Problema G: Corte e Costura </font></h1>


<P>
<DIV ALIGN="CENTER">
<TABLE CELLPADDING=3>
<TR><TD ALIGN="CENTER"><IMG
  WIDTH="80" HEIGHT="79" ALIGN="BOTTOM" BORDER="0"
 SRC="Wallpaper_group-p2-3.jpg"
 ALT="Image Wallpaper_group-p2-3"> 
<IMG
  WIDTH="80" HEIGHT="79" ALIGN="BOTTOM" BORDER="0"
 SRC="Wallpaper_group-p2-3.jpg"
 ALT="Image Wallpaper_group-p2-3"> 
<IMG
  WIDTH="80" HEIGHT="79" ALIGN="BOTTOM" BORDER="0"
 SRC="Wallpaper_group-p2-3.jpg"
 ALT="Image Wallpaper_group-p2-3"> 
<IMG
  WIDTH="80" HEIGHT="79" ALIGN="BOTTOM" BORDER="0"
 SRC="Wallpaper_group-p2-3.jpg"
 ALT="Image Wallpaper_group-p2-3"></TD>
<TD ALIGN="CENTER"> </TD>
<TD ALIGN="CENTER"> </TD>
<TD ALIGN="CENTER"> </TD>
<TD ALIGN="CENTER"> </TD>
</TR>
</TABLE>
</DIV>


Pretende-se cortar um pedaço de fita análogo ao da figura seguinte
transversalmente de modo que todos os pedaços tenham
exactamente o mesmo padrão. O desenho da fita é constituído
por <TT>*</TT>, <TT>?</TT> e <TT>T</TT>. A barra de <TT>T</TT>'s existe sempre
pois forma o remate do tecido, mas só ocorre num dos lados, como no
exemplo.
De resto, não há mais <TT>T</TT>'s no desenho.
Os cortes não podem partir os motivos <TT>*</TT> nem <TT>?</TT> ao meio.

<P>
<PRE>
        TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
        ?*??***?*??****?*??***?*??****?*??***?*??****?*??***?*??*****
        ???****???*****???****???*****???****???*****???****???******
        ?**?**??**?**?*?**?**??**?**?*?**?**??**?**?*?**?**??**?**?**
        *************************************************************
        ?**?????**????*?**?????**????*?**?????**????*?**?????**????**
        ?*?*?*??*?*?*?*?*?*?*??*?*?*?*?*?*?*??*?*?*?*?*?*?*??*?*?*?**
        ???**??????**?*???**??????**?*???**??????**?*???**??????**?**
        **??**??**??*****??**??**??*****??**??**??*****??**??**??****
</PRE>

<P>
Qual é o <B>maior número</B> de pedaços iguais que se pode obter? 
Como existem várias fitas do mesmo tipo para analisar, umas
mais largas do que outras,  umas mais compridas do que outras,
vamos tentar automatizar o processo. 

<P>

<h2><font color=blue>Tarefa</font></h2>

Escrever um programa que,  dada a descrição da fita a cortar,
indique o número máximo de pedaços iguais que se pode
obter por aplicação de cortes transversais (na direcção da largura, ou
seja, perpendiculares à linha de remate).

<P>

<h2><font color=blue>Input</font></h2>
Na primeira linha dois inteiros <B>L</B> e <B>C</B> representando
a largura da fita e o seu comprimento respectivamente. A largura
e o comprimento correspondem ao número de filas de símbolos.
Pode assumir que o valor de <B>L</B> nunca excede 8 e 
<B>C</B> não excede  10000.
Nas linhas seguintes tem a descrição de cada linha da fita
(segundo a largura). O caracter <TT>T</TT> existe apenas no fim de 
cada linha e não contará para a largura da fita.

<P>


<h2><font color=blue>Output</font></h2>
Escreverá um inteiro que indica o número de
pedaços que obteria (seguido de mudança de linha).

<P>


<h2><font color=blue>Exemplo</font></h2>

<h3><font color=blue>Input</font></h3>
<BR>
<PRE>
7 15
**?****T
**?****T
****?**T
**?****T
**?****T
****?**T
**?****T
**?****T
****?**T
**?****T
**?****T
****?**T
**?****T
**?****T
****?**T
</PRE>
<H3> <font color=blue>Output</font></H3>
</H3>
<BR>
<PRE>
5
</PRE>
<BR><HR>
<ADDRESS>
ToPAS'2007
</ADDRESS>
