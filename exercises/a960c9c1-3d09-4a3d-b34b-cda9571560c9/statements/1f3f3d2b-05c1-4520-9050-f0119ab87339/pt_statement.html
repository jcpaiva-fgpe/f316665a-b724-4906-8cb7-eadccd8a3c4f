<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>
      ToPAS parking
    </title>
    <meta name="description" content="ToPAS parking">
    <meta name="keywords" content="html">
    <meta name="resource-type" content="document">
    <meta name="distribution" content="global">
    <script type="text/javascript" src=
    "https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS_CHTML">
</script>
    <meta http-equiv="Content-Style-Type" content="text/css">
  </head>
  <body>
    <hr>
    <h1>
      <a name="SECTION00070000000000000000" id=
      "SECTION00070000000000000000">ToPAS parking</a>
    </h1>
    <p></p>
    <div align="center">
      <img width="800" height="321" align="bottom" border="0" src=
      "topas_parking.jpg" alt="Image topas_parking">
    </div>Normalmente, nos parques de estacionamento dos centros comerciais, os
    lugares de estacionamento estão organizados em filas paralelas, duas a
    duas, com uma faixa de circulação entre cada par de filas. Nos parques mais
    sofisticados, existe um sistema de semáforos para facilitar a localização
    de lugares livres pelos condutores que querem estacionar. É muito simples:
    coloca-se um semáforo por cima de cada lugar de estacionamento. Quando o
    lugar está livre, o semáforo fica verde; quando está ocupado, fica
    vermelho.
    <p>
      O parque de estacionamento do futuro TopaShopping de Loulé usará uma
      organização de lugares revolucionária, suprimindo as faixas de
      circulação. Quer dizer, a placa de estacionamento estará dividida em
      células de estacionamento retangulares, todas contíguas, cada uma com um
      semáforo. É verdade que, havendo condutores desrespeitosos, alguns carros
      podem ficar bloqueados, isto é, impossibilitados de sair do parque. Além
      disso, pode acontecer que certas zonas do parque fiquem vazias mas
      inacessíveis, porque há carros estacionados rodeando essa zona
      completamente. Para facilitar a vida aos clientes que querem estacionar,
      ajudando-os a encontrar lugar para o carro, vão usar-se semáforos com
      três cores — verde, vermelho e amarelo — funcionando da seguinte forma:
    </p>
    <p>
      Em cada momento, cada uma das células de estacionamento estará ocupada,
      livre, bloqueante ou isolada. Estará ocupada, com o semáforo vermelho, se
      lá estiver um carro parado; estará livre, com o semáforo verde, se
      estiver vazia mas não bloqueante nem isolada; estará bloqueante, com o
      semáforo amarelo, se estiver vazia mas, se estivesse ocupada, pelo menos
      uma das células adjacentes que estejam ocupadas ficaria com o respetivo
      carro bloqueado; estará isolada, com o semáforo apagado, se estiver livre
      mas inacessível a partir do exterior do parque.
    </p>
    <p>
      Note que um carro pode estar bloqueado mesmo sem estar entalado entre
      quatro carros (um à frente, outro atrás, outro à esquerda e outro à
      direita). Na verdade estar bloqueado significa que os lugares adjacentes
      à frente, atrás, à esquerda e à direita estão todos ocupados ou isolados.
    </p>
    <p>
      Note ainda que, não sendo o parque de estacionamento vedado, os carros
      que estacionarem nas filas das pontas nunca ficarão bloqueados. Além
      disso, pode-se entrar na superfície do parque por qualquer uma das
      células de estacionamento das filas das pontas, desde que estejam vazias.
      Logo, essas células nunca ficarão isoladas.
    </p>
    <p></p>
    <h2>
      <a name="SECTION00071000000000000000" id=
      "SECTION00071000000000000000">Tarefa</a>
    </h2>Por favor, escreva um programa que leia da consola a descrição do
    parque e os lugares ocupados e que escreva na consola o plano dos
    semáforos. O parque é retangular, de dimensões \(W\) e \(H\), &lt;&lt;!--
    IMG --&gt;       sendo \(W\)     a medida do lado horizontal e \(H\)     a
    medida do lado vertical, e cada lugar de estacionamento é representado por
    um par de coordenadas \(x\), \(y\),       com \(0 \leq x &lt; W\) e \(0
    \leq y &lt; H\). O plano dos semáforos é uma matriz com \(H\) linhas e
    \(W\)  colunas, onde cada posição terá a cor do semáforo do lugar
    correspondente, com a seguinte codificação: apagado,&nbsp;<b>0</b>;
    verde,&nbsp;<b>1</b>; vermelho,&nbsp;<b>2</b>; amarelo,&nbsp;<b>3</b>.
    <p></p>
    <h2>
      <a name="SECTION00072000000000000000" id=
      "SECTION00072000000000000000">Input</a>
    </h2>A primeira linha do input contém os valores de \(W\) e \(H\),       
    por esta ordem. As restantes linhas, em número indeterminado, contêm cada
    uma o par de coordenadas \(x\), \(y\)        de cada lugar de
    estacionamento que está atualmente ocupado, sem repetições. O fim dos dados
    é assinalado por uma linha contendo duas vezes o número <tt>-1</tt>.
    <p></p>
    <h2>
      <a name="SECTION00073000000000000000" id=
      "SECTION00073000000000000000">Restrições</a>
    </h2>
    <p></p>
    <table cellpadding="3">
      <tr>
        <td align="left">
          \(1\leq W\leq 100\) 
        </td>
        <td align="left">
          Número de colunas
        </td>
      </tr>
      <tr>
        <td align="left">
          \(1\leq H \leq 100\) 
        </td>
        <td align="left">
          Número de linhas
        </td>
      </tr>
    </table>
    <p></p>
    <h2>
      <a name="SECTION00074000000000000000" id=
      "SECTION00074000000000000000">Output</a>
    </h2>O output é a matriz com o plano dos semáforos, escrita linha a linha,
    com todos os números justapostos.
    <p></p>
    <h2>
      <a name="SECTION00075000000000000000" id=
      "SECTION00075000000000000000">Exemplo</a>
    </h2>
    <h3>
      <a name="SECTION00075100000000000000" id=
      "SECTION00075100000000000000">Input</a>
    </h3>
    <pre>
8 6
0 0
1 0
3 0
4 0
5 0
6 0
2 1
5 1
6 1
2 2
4 2
5 2
6 2
1 3
2 3
3 3
5 3
7 3
3 4
6 4
0 5
2 5
5 5
7 5
-1 -1
</pre>
    <p></p>
    <h3>
      <a name="SECTION00075200000000000000" id=
      "SECTION00075200000000000000">Output</a>
    </h3>
    <pre>
22122221
11200223
13202223
12223202
11321121
21211212
</pre>
    <p></p>
    <p></p>
    <p>
      <br>
    </p>
    <p>
      O input corresponde à seguinte configuração, ainda sem semáforos:
    </p>
    <p></p>
    <div align="center">
      <img width="80%" align="bottom" border="0" src=
      "topas_parking_example_1.png" alt="Image topas_parking_example_1">
    </div>
    <p></p>
    <div align="center"></div>O output já assinala as cores, ficando a cinzento
    os lugares onde o semáforo está apagado:
    <p></p>
    <div align="center">
      <img width="80%" align="bottom" border="0" src=
      "topas_parking_example_2.png" alt="Image topas_parking_example_2">
    </div>
    <p></p>
    <div align="center"></div>
    <p>
      Note que o sistema é prático mas não é perfeito. Quer dizer, não garante
      que um carro que estacione num lugar com luz verde não impeça outro carro
      de sair do parque. O sistema apenas assinala que um carro que
      estacionasse num lugar com luz amarela bloquearia pelo menos um dos
      carros estacionados nos lugares adjacentes.
    </p>
    <p></p>
    <p>
      <br>
    </p>
  </body>
</html>
