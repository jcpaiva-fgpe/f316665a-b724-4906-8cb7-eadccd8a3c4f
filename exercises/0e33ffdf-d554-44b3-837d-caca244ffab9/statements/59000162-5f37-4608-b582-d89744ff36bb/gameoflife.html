<h1><font color="blue">Problema D: Jogo da Vida</font></h1>

<p><p><img align=right src="gameoflife.jpg" width="251" height="143"
alt="" border="0">O Jogo da Vida não é um jogo "convencional". Não
existem jogadores, nem se pode ganhar ou perder. E uma vez colocadas
as peças, regras aparentemente simples determinam tudo o que vai
acontecer a seguir, com comportamentos muito complexos, cheios de surpresas!

<p>Este jogo é jogado num tabuleiro quadriculado. Cada quadrícula (ou
célula) pode estar <i>morta</i> ou <i>viva</i>. Assinalamos uma célula
viva com o caracter <tt>'#'</tt> e uma célula morta com o caracter
<tt>'.'</tt>. Neste sentido, um tabuleiro inicial válido para o jogo
da vida seria por exemplo:

<pre>
.........
.........
....#....
...###...
...#.#...
....#....
.........
.........
</pre>

<p>Cada célula tem 8 células vizinhas (excepto as células no limite do
tabuleiro), que são as quadrículas adjacentes em todas as direcções
(incluindo as diagonais). Dada uma configuração inicial, o tabuleiro
vai evoluindo com a aplicação de regras. Assim, para cada célula,
contamos o número de vizinhos com células vivas e  o que acontece a
seguir depende desse número:

<ul>
<li>Uma célula morta com exactamente 3 vizinhos vivos <i>nasce</i>,
ficando viva no passo seguinte;
<li>Uma célula viva com 2 ou 3 vizinhos vivos <i>sobrevive</i>,
ficando viva no passo seguinte;
<li>Em todos os outros casos, uma célula <i>morre</i> (se estava
viva), ou mantém-se morta.
</ul>

<p>Nota que esta regra é aplicada ao mesmo tempo a todas as células,
isto é, para determinarmos o que acontece num determinado passo temos
de verificar o que acontece a cada célula antes de realmente fazermos
as mudanças que as regras determinam. Por exemplo, para o tabuleiro dado acima, a aplicação das regras originava os seguintes passos (e depois continuaria):

<table>
<tr>

<td>
<pre>
.........
.........
....#....
...###...
...#.#...
....#....
.........
.........
</pre>
</td>

<td>
<pre>
 -> 
</pre>
</td>

<td>
<pre>
.........
.........
...###...
...#.#...
...#.#...
....#....
.........
.........
</pre>
</td>

<td>
<pre>
 -> 
</pre>
</td>

<td>
<pre>
.........
....#....
...#.#...
..##.##..
...#.#...
....#....
.........
.........
</pre>
</td>

</tr>
</table>

<p>Precisamos da tua ajuda. Serás capaz de simular o Jogo da Vida?

<h2><font color=blue>Tarefa</font></h2>

Escreve um programa que, dada uma configuração inicial do tabuleiro do
jogo da vida, obtenha o estado desse mesmo tabuleiro ao fim de um
determinado número de passos.


<h2><font color=blue>Input</font></h2>

<p>Na primeira linha de <i>input</i> vêm 3 números inteiros <b>L</b>,
<b>C</b> e <b>P</b> (separados por espaços), indicando respectivamente
o número de linhas do tabuleiro, o número de colunas e o número de
passos a usar. Podes assumir que 1 &#8804; L,C &#8804; 100 e que 1 &#8804; P
&#8804; 250;.

<p>Seguem-se exactamente <b>L</b> linhas, cada uma contendo
exactamente <b>C</b> caracteres, indicando o estado inicial do
tabuleiro (<tt>'#'</tt> para uma célula viva, e <tt>'.'</tt> para uma
célula morta).

<h2><font color=blue>Output</font></h2>

<p>O <i>output</i> é constituído por <b>L</b> linhas, cada uma com
<b>C</b> caracteres, indicando o estado do tabuleiro ao fim de
<b>P</b> passos de aplicação das regras. Os caracteres a ser usados
são os mesmos do <i>input</i>.

<h2><font color=blue>Exemplo de Input</font></h2>

<pre>
8 9 3
.........
.........
....#....
...###...
...#.#...
....#....
.........
.........
</pre>

<h2><font color=blue>Exemplo de Output</font></h2>

<pre>
.........
....#....
..##.##..
..##.##..
..##.##..
....#....
.........
.........
</pre>
<BR><HR>
<ADDRESS>
ToPAS'2007
</ADDRESS>
